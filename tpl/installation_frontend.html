<h3>Frontend installation</h3>
<p>
	Until Perfwatcher has package available, you need to grab source from GitHub.
</p>

<hr >

<h4>Prerequisites</h4>
<p>
	<ul>
		<li>PHP 5 (PHP 5.3 allows you to use php-rrd extention)</li>
		<li>MySQL Server &gt;= 4</li>
		<li>PHP CLI 
			<ul>
				<li>On Redhat like :<pre><code>yum install php php-cli httpd php-mysql php-pear mysql-server mysql</code></pre></li>
				<li>On Debian like :<pre><code>aptitude install php5 apache php5-cli php5-mysql mysql-server mysql-client</code></pre></li>
				<li>On Suse like :<pre><code>zypper install apache2 apache2-mod_php5 mysql mysql-client php5-mysql php5 php5-pear</code></pre></li>
			</ul>
		</li>
		<li>MDB2 PEAR library
			<ul>
				<li>On Redhat like :<pre><code>pear install MDB2_Driver_mysql</code></pre></li>
				<li>On Debian like :<pre><code>aptitude install php-mdb2-driver-mysql</code></pre></li>
				<li>On Suse like :<pre><code>pear install MDB2_Driver_mysql</code></pre></li>
			</ul>
		</li>
	</ul>
</p>

<hr >

<h4>Getting sources</h4>
<p>
	Two possibility :
	<ul>
		<li>Clone GitHub repo : <pre><code>git clone -b 'release/1.0' https://github.com/perfwatcher/perfwatcher.git</code></pre></li>
		<li>Download last stable version : <pre><code>wget https://github.com/downloads/perfwatcher/perfwatcher/@PERFWATCHER_PACKAGE@</code></pre></li>
	</ul>
</p>

<hr >

<h4>Installing sources</h4>
<p>
	<ul>
		<li>On RedHat like :
			<pre><code>cd /var/www/html</code></pre>
		</li>
		<li>On Debian like :
			<pre><code>cd /var/www</code></pre>
		</li>
		<li>On Suse like :
			<pre><code>cd /srv/www/htdocs</code></pre>
		</li>
	</ul>
	<pre><code>
tar xzf /&lt;your download directory&gt;/@PERFWATCHER_PACKAGE@ # If downloaded as tar.gz
 or
mv /&lt;your clone directory&gt;/perfwatcher . # If cloned from GitHub

cd perfwatcher
mkdir logs
</code></pre>
	<ul>
		<li>On RedHat like :
			<pre><code>chown -R apache:apache etc logs</code></pre>
		</li>
		<li>On Debian like :
			<pre><code>chown -R www-data:www-data etc logs</code></pre>
		</li>
		<li>On Suse like :
			<pre><code>chown -R wwwrun:www etc logs</code></pre>
		</li>
	</ul>
</p>

<hr >

<h4>Create MySQL database</h4>
<p>1/ Create the database (need admin permissions)</p>
<p><pre><code>CREATE DATABASE perfwatcher;</code></pre></p>

<p>2/ Create a user (and grants - need admin permissions)</p>

<p>Run one of those (check if you connect to localhost or to yourhostname with mysql) :
<p><pre><code>GRANT ALL PRIVILEGES ON perfwatcher.* TO 'perfwatcher'@'localhost' IDENTIFIED BY 'changeme';</code></pre></p>
<p><pre><code>GRANT ALL PRIVILEGES ON perfwatcher.* TO 'perfwatcher'@'yourhostname' IDENTIFIED BY 'changeme';</code></pre></p>

<p>3/ Create the database schema</p>

<p><pre><code>cat install/create.sql | mysql -u perfwatcher -h localhost -p perfwatcher</code></pre></p>

<hr >

<h4>Configuring crontab</h4>
<p>Put this in your web server's user crontab:
	<pre><code>* * * * * /&lt;path to perfwatcher&gt;/bin/peuplator
* * * * * /&lt;path to perfwatcher&gt;/bin/aggregator</code></pre>
</p>

<hr >

<h4>Configuring PerfWatcher</h4>
<p>
	<ul>
		<li>Copy the sample config file to config.php :<pre><code>cp etc/config.sample.php etc/config.php</code></pre></li>
		<li>Edit etc/config.php and follow the instructions</li>
	</ul>
</p>

<hr >

<h4>Configure Apache</h4>
<p>To permit Perfwatcher, through your browser, to access to your Collectd-pw server, you need to add these lines into your Apache configuration
<pre><code>&lt;Location /perfwatcher/json-rpc&gt;
	ProxyPass	http://localhost:8080/
&lt;/Location&gt;</code></pre>
Then :
<pre><code>service (httpd|apache2) restart</code></pre>
If you are usin selinux run this command :
<pre><code>/usr/sbin/setsebool -P httpd_can_network_connect 1</code></pre>
</p>

<hr >

<h4>Check your configuration</h4>
<p>
	Go to http://&lt;your server&gt;/&lt;path to perfwatcher&gt;/setup.php
</p>
